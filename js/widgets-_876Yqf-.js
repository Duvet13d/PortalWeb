import{r as e,j as t,R as s}from"./react-vendor-BlsGRQ4b.js";import{c as a,u as r,i,g as l,d as n,w as c,W as o}from"./utils-E3nsQLLB.js";import{m as d,A as m}from"./motion-SEeoIC92.js";import{u as h,a as x}from"./contexts-DAReFMRA.js";import{D as u}from"./homepage-BHehd6zr.js";const g=({title:s="Weather",description:i="Current weather and forecast",size:l="large",settings:n={},onSettingsChange:c,className:o=""})=>{const[h,x]=e.useState(null),[u,g]=e.useState(null),[p,f]=e.useState(!0),[j,b]=e.useState(null),[y,v]=e.useState(null),[N,w]=e.useState(!1),[k,S]=e.useState(!1),z=n.location||"auto",C=n.units||"metric",L=!1!==n.showForecast,M="demo";a({retryAttempts:3,retryDelay:2e3,cacheTimeout:6e5});const{isOnline:A}=r(),T=e.useCallback(()=>new Promise((e,t)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(t=>{e({lat:t.coords.latitude,lon:t.coords.longitude})},e=>{t(e)},{timeout:1e4,enableHighAccuracy:!0,maximumAge:3e5}):t(new Error("Geolocation is not supported"))}),[]),W=e.useCallback(async(e,t)=>B(),[M,C,L]),B=()=>({current:{name:"Demo City",main:{temp:22,feels_like:24,humidity:65,pressure:1013},weather:[{main:"Clear",description:"clear sky",icon:"01d"}],wind:{speed:3.5},visibility:1e4,sys:{country:"US"}},forecast:{list:[{dt:Date.now()/1e3+86400,main:{temp:25,humidity:60},weather:[{main:"Sunny",description:"sunny",icon:"01d"}]},{dt:Date.now()/1e3+172800,main:{temp:20,humidity:70},weather:[{main:"Clouds",description:"partly cloudy",icon:"02d"}]},{dt:Date.now()/1e3+259200,main:{temp:18,humidity:80},weather:[{main:"Rain",description:"light rain",icon:"10d"}]},{dt:Date.now()/1e3+345600,main:{temp:23,humidity:55},weather:[{main:"Clear",description:"clear sky",icon:"01d"}]},{dt:Date.now()/1e3+432e3,main:{temp:26,humidity:50},weather:[{main:"Sunny",description:"sunny",icon:"01d"}]}]}}),D=e.useCallback(async()=>{f(!0),b(null);try{let e;"auto"===z?(e=await T(),v({lat:e.lat,lon:e.lon,name:"Current Location"})):(e={lat:40.7128,lon:-74.006},v({lat:e.lat,lon:e.lon,name:z}));const t=await W(e.lat,e.lon);x(t.current),g(t.forecast)}catch(e){b(e.message);const t=B();x(t.current),g(t.forecast),v({name:"Demo Location"})}finally{f(!1)}},[z,T,W]);e.useEffect(()=>{D()},[D]),e.useEffect(()=>{const e=setInterval(D,6e5);return()=>clearInterval(e)},[D]);const H=(e,s="w-8 h-8")=>t.jsx("div",{className:`${s} flex items-center justify-center text-2xl`,children:{"01d":"☀️","01n":"🌙","02d":"⛅","02n":"☁️","03d":"☁️","03n":"☁️","04d":"☁️","04n":"☁️","09d":"🌧️","09n":"🌧️","10d":"🌦️","10n":"🌧️","11d":"⛈️","11n":"⛈️","13d":"❄️","13n":"❄️","50d":"🌫️","50n":"🌫️"}[e]||"🌤️"}),_=e=>{const t="metric"===C?"°C":"imperial"===C?"°F":"K";return`${Math.round(e)}${t}`},E=e=>{null==c||c({...n,...e})};return p?t.jsx(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-gray-900/50 border border-gray-700 rounded-xl p-6 backdrop-blur-sm ${o}`,children:t.jsx("div",{className:"flex items-center justify-center h-32",children:t.jsxs("div",{className:"flex items-center gap-3 text-gray-400",children:[t.jsx("div",{className:"w-6 h-6 border-2 border-accent-1/30 border-t-accent-1 rounded-full animate-spin"}),t.jsx("span",{children:"Loading weather..."})]})})}):t.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`bg-gray-900/50 border border-gray-700 rounded-xl p-6 backdrop-blur-sm ${o}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 text-accent-1",children:t.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"w-full h-full",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"})})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-semibold",children:s}),t.jsx("p",{className:"text-gray-400 text-sm",children:(null==y?void 0:y.name)||"Unknown Location"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:D,className:"p-2 text-gray-400 hover:text-white transition-colors",title:"Refresh weather",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),t.jsx("button",{onClick:()=>w(!N),className:"p-2 text-gray-400 hover:text-white transition-colors",title:"Weather settings",children:t.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]}),j&&!1,k&&t.jsx("div",{className:"mb-4 p-3 bg-blue-900/30 border border-blue-600 rounded-lg",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),t.jsx("p",{className:"text-white text-sm",children:A?"Using cached weather data":"Offline - Showing cached data"})]})}),h&&t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[H(h.weather[0].icon,"w-16 h-16"),t.jsxs("div",{children:[t.jsx("div",{className:"text-3xl font-bold text-white",children:_(h.main.temp)}),t.jsx("div",{className:"text-gray-400 capitalize",children:h.weather[0].description})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-sm text-gray-400",children:"Feels like"}),t.jsx("div",{className:"text-lg text-white",children:_(h.main.feels_like)})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-blue-400",children:"💧"}),t.jsx("span",{className:"text-gray-400",children:"Humidity:"}),t.jsxs("span",{className:"text-white",children:[h.main.humidity,"%"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-green-400",children:"💨"}),t.jsx("span",{className:"text-gray-400",children:"Wind:"}),t.jsxs("span",{className:"text-white",children:[h.wind.speed," ","metric"===C?"m/s":"mph"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-purple-400",children:"🌡️"}),t.jsx("span",{className:"text-gray-400",children:"Pressure:"}),t.jsxs("span",{className:"text-white",children:[h.main.pressure," hPa"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-yellow-400",children:"👁️"}),t.jsx("span",{className:"text-gray-400",children:"Visibility:"}),t.jsxs("span",{className:"text-white",children:[(h.visibility/1e3).toFixed(1)," km"]})]})]})]}),L&&u&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-white font-medium mb-3",children:"5-Day Forecast"}),t.jsx("div",{className:"grid grid-cols-5 gap-2",children:u.list.slice(0,5).map((e,s)=>{return t.jsxs("div",{className:"text-center p-2 bg-gray-800/30 rounded-lg",children:[t.jsx("div",{className:"text-xs text-gray-400 mb-1",children:(a=e.dt,new Date(1e3*a).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}))}),t.jsx("div",{className:"mb-2",children:H(e.weather[0].icon,"w-6 h-6")}),t.jsx("div",{className:"text-sm text-white font-medium",children:_(e.main.temp)}),t.jsxs("div",{className:"text-xs text-gray-400",children:[e.main.humidity,"%"]})]},s);var a})})]}),t.jsx(m,{children:N&&t.jsx(d.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t border-gray-700",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Units"}),t.jsxs("select",{value:C,onChange:e=>E({units:e.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-accent-1",children:[t.jsx("option",{value:"metric",children:"Celsius"}),t.jsx("option",{value:"imperial",children:"Fahrenheit"}),t.jsx("option",{value:"kelvin",children:"Kelvin"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Show 5-day forecast"}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:L,onChange:e=>E({showForecast:e.target.checked}),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-1"})]})]})]})})}),t.jsx("div",{className:"mt-4 p-3 bg-blue-900/30 border border-blue-600 rounded-lg",children:t.jsx("p",{className:"text-blue-400 text-xs",children:"Add VITE_OPENWEATHER_API_KEY to your .env file for live weather data."})})]})},p=Object.freeze(Object.defineProperty({__proto__:null,default:g},Symbol.toStringTag,{value:"Module"})),f=({title:s="Spotify",description:a="Now playing and music controls",size:r="medium",settings:c={},onSettingsChange:o,className:h=""})=>{const[x,u]=e.useState(null),[g,p]=e.useState([]),[f,j]=e.useState(!0),[b,y]=e.useState(null),[v,N]=e.useState(!1),[w,k]=e.useState(!1),[S,z]=e.useState(!1),C=!1!==c.showControls,L=!1!==c.showAlbumArt,M={id:"demo-1",title:"Blinding Lights",artist:"The Weeknd",album:"After Hours",image:"/api/placeholder/80/80",isPlaying:!0,progress:12e4,duration:2e5,url:null},A=[{id:"demo-2",title:"Watermelon Sugar",artist:"Harry Styles",album:"Fine Line",image:"/api/placeholder/80/80"},{id:"demo-3",title:"Levitating",artist:"Dua Lipa",album:"Future Nostalgia",image:"/api/placeholder/80/80"},{id:"demo-4",title:"Good 4 U",artist:"Olivia Rodrigo",album:"SOUR",image:"/api/placeholder/80/80"},{id:"demo-5",title:"Stay",artist:"The Kid LAROI & Justin Bieber",album:"F*CK LOVE 3",image:"/api/placeholder/80/80"},{id:"demo-6",title:"Heat Waves",artist:"Glass Animals",album:"Dreamland",image:"/api/placeholder/80/80"}],T=e.useCallback(async()=>{j(!0),y(null);try{if(!i())return u(M),p(A),N(!0),void y("Spotify not configured");const[e,t]=await Promise.all([l(),n()]);e||t.length>0?(u(e),p(t.slice(0,5)),N(!1),y(null)):(u(M),p(A),N(!0),y("No Spotify data available"))}catch(e){u(M),p(A),N(!0),y("Failed to load Spotify data")}finally{j(!1)}},[]);e.useEffect(()=>{T();const e=setInterval(T,3e4);return()=>clearInterval(e)},[T]);const W=e=>`${Math.floor(e/6e4)}:${Math.floor(e%6e4/1e3).toString().padStart(2,"0")}`,B=e=>{null==o||o({...c,...e})},D=e=>{e&&!v&&window.open(e,"_blank")};return f?t.jsx(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-gray-900/50 border border-gray-700 rounded-xl p-6 backdrop-blur-sm ${h}`,children:t.jsx("div",{className:"flex items-center justify-center h-32",children:t.jsxs("div",{className:"flex items-center gap-3 text-gray-400",children:[t.jsx("div",{className:"w-6 h-6 border-2 border-accent-1/30 border-t-accent-1 rounded-full animate-spin"}),t.jsx("span",{children:"Loading music..."})]})})}):t.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`bg-gray-900/50 border border-gray-700 rounded-xl p-6 backdrop-blur-sm ${h}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 text-green-400",children:t.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",className:"w-full h-full",children:t.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"})})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-semibold",children:s}),t.jsx("p",{className:"text-gray-400 text-sm",children:v?"Demo Mode":"Live Data"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:T,className:"p-2 text-gray-400 hover:text-white transition-colors",title:"Refresh",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),t.jsx("button",{onClick:()=>z(!S),className:"p-2 text-gray-400 hover:text-white transition-colors",title:"Settings",children:t.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]}),b&&t.jsx("div",{className:"mb-4 p-3 bg-yellow-900/30 border border-yellow-600 rounded-lg",children:t.jsx("p",{className:"text-yellow-400 text-sm",children:v?"Showing demo tracks. Configure Spotify for live data.":b})}),x&&t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[L&&t.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-lg overflow-hidden cursor-pointer",onClick:()=>D(x.url),children:"/api/placeholder/80/80"!==x.image?t.jsx("img",{src:x.image,alt:x.album,className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx("svg",{className:"w-8 h-8 text-gray-600",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"})})})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("h4",{className:"text-white font-medium truncate cursor-pointer hover:text-green-400 transition-colors",onClick:()=>D(x.url),children:x.title}),x.isPlaying&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-1 h-1 bg-green-400 rounded-full animate-pulse"}),t.jsx("span",{className:"text-green-400 text-xs",children:"PLAYING"})]})]}),t.jsx("p",{className:"text-gray-400 text-sm truncate",children:x.artist}),t.jsx("p",{className:"text-gray-500 text-xs truncate",children:x.album})]})]}),x.duration&&t.jsxs("div",{className:"mb-3",children:[t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400 mb-1",children:[t.jsx("span",{children:W(x.progress||0)}),t.jsx("span",{children:W(x.duration)})]}),t.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1",children:t.jsx("div",{className:"bg-green-400 h-1 rounded-full transition-all duration-1000",style:{width:(x&&x.duration?x.progress/x.duration*100:0)+"%"}})})]}),C&&t.jsxs("div",{className:"flex items-center justify-center gap-4",children:[t.jsx("button",{className:"p-2 text-gray-400 hover:text-white transition-colors",disabled:v,children:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M6 6h2v12H6zm3.5 6l8.5 6V6z"})})}),t.jsx("button",{className:"p-3 bg-green-500 hover:bg-green-600 text-white rounded-full transition-colors",disabled:v,children:x.isPlaying?t.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})}):t.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M8 5v14l11-7z"})})}),t.jsx("button",{className:"p-2 text-gray-400 hover:text-white transition-colors",disabled:v,children:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"})})})]})]}),g.length>0&&t.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[t.jsxs("button",{onClick:()=>k(!w),className:"flex items-center justify-between w-full text-left text-gray-400 hover:text-white transition-colors",children:[t.jsx("span",{className:"text-sm font-medium",children:"Recently Played"}),t.jsx("svg",{className:"w-4 h-4 transition-transform "+(w?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t.jsx(m,{children:w&&t.jsx(d.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 space-y-2",children:g.map((e,s)=>t.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-800/50 transition-colors cursor-pointer",onClick:()=>D(e.url),children:[t.jsx("div",{className:"w-8 h-8 bg-gray-800 rounded overflow-hidden",children:"/api/placeholder/80/80"!==e.image?t.jsx("img",{src:e.image,alt:e.album,className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"})})})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-white text-sm truncate",children:e.title}),t.jsx("p",{className:"text-gray-400 text-xs truncate",children:e.artist})]})]},e.id))})})]}),t.jsx(m,{children:S&&t.jsx(d.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t border-gray-700",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Show playback controls"}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:C,onChange:e=>B({showControls:e.target.checked}),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Show album artwork"}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:L,onChange:e=>B({showAlbumArt:e.target.checked}),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500"})]})]})]})})}),t.jsx("div",{className:"mt-4 p-3 bg-green-900/30 border border-green-600 rounded-lg",children:t.jsx("p",{className:"text-green-400 text-xs",children:"Configure Spotify credentials in your .env file for live music data."})})]})},j=Object.freeze(Object.defineProperty({__proto__:null,default:f},Symbol.toStringTag,{value:"Module"})),b=[{zone:"America/New_York",label:"New York",flag:"🇺🇸"},{zone:"America/Los_Angeles",label:"Los Angeles",flag:"🇺🇸"},{zone:"Europe/London",label:"London",flag:"🇬🇧"},{zone:"Europe/Paris",label:"Paris",flag:"🇫🇷"},{zone:"Asia/Tokyo",label:"Tokyo",flag:"🇯🇵"},{zone:"Asia/Hong_Kong",label:"Hong Kong",flag:"🇭🇰"},{zone:"Asia/Singapore",label:"Singapore",flag:"🇸🇬"},{zone:"Australia/Sydney",label:"Sydney",flag:"🇦🇺"},{zone:"Asia/Dubai",label:"Dubai",flag:"🇦🇪"},{zone:"Europe/Berlin",label:"Berlin",flag:"🇩🇪"},{zone:"Asia/Shanghai",label:"Shanghai",flag:"🇨🇳"},{zone:"America/Chicago",label:"Chicago",flag:"🇺🇸"}],y=()=>{const[s,a]=e.useState(new Date),[r,i]=e.useState(()=>{const e=localStorage.getItem("widget-settings-timezone");return e?JSON.parse(e):{selectedTimezones:["America/New_York","Europe/London","Asia/Tokyo","Asia/Hong_Kong"],format24Hour:!1,showSeconds:!1}}),[l,n]=e.useState(!1),[c,o]=e.useState({...r});e.useEffect(()=>{const e=setInterval(()=>{a(new Date)},1e3);return()=>clearInterval(e)},[]),e.useEffect(()=>{localStorage.setItem("widget-settings-timezone",JSON.stringify(r))},[r]);const m=(e,t)=>{const s={timeZone:t,hour:r.format24Hour?"2-digit":"numeric",minute:"2-digit",...r.showSeconds&&{second:"2-digit"},...!r.format24Hour&&{hour12:!0}};return new Intl.DateTimeFormat("en-US",s).format(e)},h=(e,t)=>{const s={timeZone:t,weekday:"short",month:"short",day:"numeric"};return new Intl.DateTimeFormat("en-US",s).format(e)},x=e=>{const{name:t,type:s,checked:a}=e.target;o(r=>({...r,[t]:"checkbox"===s?a:e.target.value}))};return t.jsx("div",{className:"bg-gray-800 rounded-lg p-4 text-white","data-testid":"timezone-widget",role:"region","aria-label":"World clock",children:l?t.jsxs("div",{className:"timezone-settings",children:[t.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Timezone Settings"}),t.jsxs("form",{onSubmit:e=>{e.preventDefault(),i(c),n(!1)},children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm mb-2",children:"Select Timezones (max 6)"}),t.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto",children:b.map(e=>t.jsxs("button",{type:"button",onClick:()=>{return t=e.zone,void(c.selectedTimezones.includes(t)?c.selectedTimezones.length>1&&o(e=>({...e,selectedTimezones:e.selectedTimezones.filter(e=>e!==t)})):c.selectedTimezones.length<6&&o(e=>({...e,selectedTimezones:[...e.selectedTimezones,t]})));var t},className:"text-xs px-2 py-2 rounded flex items-center space-x-1 "+(c.selectedTimezones.includes(e.zone)?"bg-blue-600 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"),disabled:!c.selectedTimezones.includes(e.zone)&&c.selectedTimezones.length>=6,children:[t.jsx("span",{children:e.flag}),t.jsx("span",{children:e.label})]},e.zone))}),t.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Selected: ",c.selectedTimezones.length,"/6"]})]}),t.jsxs("div",{className:"mb-3 flex items-center space-x-4",children:[t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",name:"format24Hour",checked:c.format24Hour,onChange:x,className:"mr-2"}),t.jsx("span",{className:"text-sm",children:"24-hour format"})]}),t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",name:"showSeconds",checked:c.showSeconds,onChange:x,className:"mr-2"}),t.jsx("span",{className:"text-sm",children:"Show seconds"})]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("button",{type:"button",onClick:()=>n(!1),className:"bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded text-sm",children:"Cancel"}),t.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-500 px-3 py-1 rounded text-sm",children:"Save"})]})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex justify-between items-center mb-3",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"World Clock"}),t.jsx("button",{onClick:()=>n(!0),className:"text-xs bg-gray-700 hover:bg-gray-600 px-2 py-1 rounded","aria-label":"Timezone settings",children:"⚙️"})]}),t.jsx("div",{className:"space-y-3",children:r.selectedTimezones.map(e=>{const a=(e=>b.find(t=>t.zone===e)||{zone:e,label:e.split("/").pop().replace("_"," "),flag:"🌍"})(e);return t.jsxs(d.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex justify-between items-center py-2 border-b border-gray-700 last:border-b-0",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-lg",children:a.flag}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium",children:a.label}),t.jsx("div",{className:"text-xs text-gray-400",children:h(s,e)})]})]}),t.jsx("div",{className:"text-right",children:t.jsx("div",{className:"text-lg font-mono font-bold",children:m(s,e)})})]},e)})}),t.jsx("div",{className:"mt-3 pt-2 border-t border-gray-700 text-center",children:t.jsxs("div",{className:"text-xs text-gray-400",children:["Local: ",m(s,Intl.DateTimeFormat().resolvedOptions().timeZone)]})})]})})},v=Object.freeze(Object.defineProperty({__proto__:null,default:y},Symbol.toStringTag,{value:"Module"})),N=({title:e="Widget",icon:s,description:a="Widget description",size:r="medium",className:i=""})=>t.jsx(d.div,{whileHover:{scale:1.02,transition:{duration:.2}},className:`\n        bg-gray-900/50 \n        border border-gray-700 \n        rounded-xl \n        p-6 \n        backdrop-blur-sm\n        hover:border-accent-1/50\n        hover:bg-gray-900/70\n        transition-all \n        duration-300\n        ${{small:"h-32",medium:"h-48",large:"h-64"}[r]}\n        ${i}\n      `,children:t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s&&t.jsx("div",{className:"w-8 h-8 text-accent-1 flex-shrink-0",children:s}),t.jsx("h3",{className:"text-lg font-semibold text-white truncate",children:e})]}),t.jsx("div",{className:"flex-1 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-800/50 rounded-full flex items-center justify-center mb-3 mx-auto",children:t.jsx("div",{className:"w-8 h-8 bg-accent-1/20 rounded-full animate-pulse"})}),t.jsx("p",{className:"text-gray-400 text-sm",children:a})]})}),t.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700/50",children:t.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[t.jsx("span",{children:"Ready"}),t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]})})]})}),w=({className:a="",gridCols:r={sm:1,md:2,lg:3,xl:3},gap:i=6,staggerDelay:l=150,showEmptyState:n=!0})=>{const{getOrderedWidgets:m,isLoaded:x}=h(),[g,p]=e.useState(!1);s.useEffect(()=>{c.initialize()},[]);const f=e.useMemo(()=>{if(!x)return[];return m().map(e=>{const s=c.getByType(e)[0];if(!s)return null;const a=o.create(s.id);return{id:s.id,type:e,component:t.jsx(a,{title:s.metadata.name,description:s.metadata.description,size:s.defaultSize,icon:k(s.metadata.icon)},s.id)}}).filter(Boolean)},[x,m]);return x?0===f.length&&n?t.jsx(d.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center py-16",children:t.jsxs("div",{className:"bg-gray-900/30 border border-gray-700 rounded-lg p-8 max-w-md mx-auto",children:[t.jsx("svg",{className:"w-16 h-16 text-gray-600 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012 2v2M7 7h10"})}),t.jsx("h3",{className:"text-xl text-white mb-2",children:"No Widgets Enabled"}),t.jsx("p",{className:"text-gray-400",children:"Enable widgets in settings to see them here."})]})}):t.jsx(u,{widgets:f,gap:i,staggerDelay:l,className:a,isLayoutMode:g,onToggleLayoutMode:()=>p(!g)}):t.jsx("div",{className:"text-center py-8",children:t.jsxs("div",{className:"inline-flex items-center gap-3 text-gray-400",children:[t.jsx("div",{className:"w-5 h-5 border-2 border-accent-1/30 border-t-accent-1 rounded-full animate-spin"}),t.jsx("span",{children:"Loading widgets..."})]})})},k=e=>{const s={cloud:t.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"w-full h-full",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"})}),music:t.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"w-full h-full",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})}),link:t.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"w-full h-full",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),globe:t.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"w-full h-full",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),edit:t.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"w-full h-full",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})};return s[e]||s.cloud},S=({isOpen:e,onClose:s})=>{const{visibility:a,toggleWidget:r,resetWidgets:i}=h();if(!e)return null;const l=Object.values(x);return t.jsx(d.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:s,children:t.jsxs(d.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-gray-900 border border-gray-700 rounded-xl p-6 max-w-md w-full max-h-[80vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Widget Settings"}),t.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsx("div",{className:"space-y-4",children:l.map(e=>{const s=c.getByType(e)[0];return s?t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 text-accent-1",children:k(s.metadata.icon)}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-medium",children:s.metadata.name}),t.jsx("p",{className:"text-gray-400 text-sm",children:s.metadata.description})]})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:a[e]||!1,onChange:()=>r(e),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-1"})]})]},e):null})}),t.jsx("div",{className:"mt-6 pt-6 border-t border-gray-700",children:t.jsx("button",{onClick:i,className:"w-full px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Reset to Defaults"})})]})})};export{N as P,f as S,y as T,w as W,S as a,g as b,p as c,j as d,v as e};
